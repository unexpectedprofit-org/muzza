<div class="modal">

  <ion-header-bar>
    <h1 class="title">{{ promotion.details.description.short }}</h1>
  </ion-header-bar>

  <ion-content>

    <div class="list card">

      <div class="item item-avatar" data-ng-show="!isSelectionValid.success" style="background-color:#008800">

        Debe seleccionar {{isSelectionValid.details[0].rule.qty}} {{isSelectionValid.details[0].rule.cat}}
        <br/>
        Te falta {{ isSelectionValid.details[0].rule.qty - isSelectionValid.details[0].qty }}

        <!--<pre>{{ isSelectionValid | json }}</pre>-->
      </div>

      <div class="item item-avatar">
        {{ promotion.details.description.long }}
        <br/>
        {{ promotion.details.price | centsToMoney | currency }}

        <pre>
        TODOS: {{isSelectionValid | json }}
        </pre>
      </div>

      <div class="item item-body">

        <pizzas bindonce data-ng-model="promotion.components.PIZZA" data-nodetails="true" validationrules="isPromoValid"></pizzas>
        <empanadas bindonce data-ng-model="promotion.components.EMPANADA" data-nodetails="true" validationrules="isPromoValid"></empanadas>
        <bebidas bindonce data-ng-model="promotion.components.BEBIDA" data-nodetails="true" validationrules="isPromoValid"></bebidas>

        <div class="button-bar">
          <a class="button"
             data-ng-click="details.select()"
             data-ng-disabled="!isSelectionValid.success">Seleccionar</a>
        </div>

        <cancel-selection></cancel-selection>
      </div>

    </div>

  </ion-content>
</div>